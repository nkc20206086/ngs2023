#pragma kernel CSMain

RWStructuredBuffer<float> cubePosBuffer;
RWStructuredBuffer<float> baseHeight;
int instanceNum;
float blockHighestPos;
float stageBreakRatio;
float height;

[numthreads(1,1,1)]
void CSMain (uint id : SV_DispatchThreadID)
{
    cubePosBuffer[id] = clamp(instanceNum * blockHighestPos * (stageBreakRatio - id / (float)instanceNum), baseHeight[id], blockHighestPos);
}
